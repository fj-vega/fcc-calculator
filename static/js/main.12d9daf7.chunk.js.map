{"version":3,"sources":["App.js","Calculator.js","index.js"],"names":["App","state","display","isShowingResult","handleClick","e","_this","isDisplayingError","updatedState","target","value","name","toString","slice","test","replaceLastCharacter","getLastNumber","includes","classList","add","setState","handleSubmit","preventDefault","result","eval","toPrecision","isFinite","removeTransition","propertyName","remove","split","pop","window","addEventListener","btn","document","querySelector","concat","key","click","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","_Calculator__WEBPACK_IMPORTED_MODULE_7__","this","React","Component","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Calculator","_ref","src","onClick","onSubmit","onTransitionEnd","type","id","disabled","data-kbd","r","__webpack_exports__","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.12d9daf7.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Calculator from './Calculator';\n\nclass App extends React.Component {\n  state = {\n    display: '0',\n    isShowingResult: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', e => {\n      e.preventDefault();\n\n      const btn = document.querySelector(`[value=\"${e.key}\"]`) \n        || document.querySelector(`[data-kbd=\"${e.key}\"]`);\n      \n      if (!btn) return;\n\n      btn.click();\n    });\n  };\n\n  handleClick = e => {\n    if (this.isDisplayingError()) return;\n\n    const updatedState = {\n      // By default, the value of the input is added to the display\n      display: this.state.display + e.target.value,\n      isShowingResult: false\n    }\n\n    switch(e.target.name) {\n      case 'clear':\n        updatedState.display = '0';\n        break;\n\n      case 'delete':\n        updatedState.display = this.state.display.toString().slice(0, -1);\n        break;\n\n      case 'operator':\n        // Avoid multiple operators replacing last one with input\n        if (/[-+*/]$/.test(this.state.display)) {\n          updatedState.display = this.replaceLastCharacter(e);\n        };\n        break;\n\n      case 'number':\n        // if the display is showing an operation result, replace that number\n        // instead of concatenating\n        if (this.state.isShowingResult) {\n          updatedState.display = e.target.value;\n        }\n        // Prevent leading zeroes when adding a new number \n        else if (this.getLastNumber() === '0') {\n          updatedState.display = this.replaceLastCharacter(e);\n        };\n        break;\n          \n      case 'comma':\n        if (this.getLastNumber().includes('.')) return;\n        break;\n      \n      // Exit handleClick function on form submit or clicking elsewhere\n      default:\n        return;\n    };\n\n    e.target.classList.add('keypress');\n\n    this.setState(updatedState);\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.isDisplayingError()) return;\n\n    // String -> Number conversion to remove right hand zeroes\n    // toString() required for checking using getLastNumber()\n      // Otherwise display value is set as a number, which can't use .split()\n    let result = +eval(this.state.display).toPrecision(12).toString();\n\n    if (!isFinite(result)) result = 'Error';\n\n    this.setState({\n      display: result,\n      isShowingResult: true\n    });\n  };\n\n  removeTransition = e => {\n    if (e.propertyName !== 'transform') return;\n    e.target.classList.remove('keypress');\n  };\n\n  // Helper functions\n  \n  replaceLastCharacter = e => {\n    return this.state.display.slice(0, -1) + e.target.value;\n  };\n\n  getLastNumber = () => {\n    return this.state.display.split(/[-+*/]/).pop();\n  };\n\n  isDisplayingError = () => {\n    if (this.state.display === 'Error') {\n      this.setState({ display: '0' });\n      return true;\n    };\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Calculator\n          display={ this.state.display } \n          handleClick={ this.handleClick }\n          handleSubmit={ this.handleSubmit }\n          removeTransition={ this.removeTransition } \n        />\n      </div>\n    );\n  };\n};\n\nexport default App;\n","import React from 'react';\n\n\nconst Calculator = ({ display, handleClick,handleSubmit, removeTransition }) => {\n  return (\n    <div>\n      <header>\n        <h1 className=\"header-title\">\n          React Calculat<span><img className=\"header-image\" src=\"img/React.js_logo-512.png\" /></span>r\n        </h1>\n      </header>\n      \n      <form \n        className=\"calculator\" \n        onClick={ handleClick } \n        onSubmit={ handleSubmit }\n        onTransitionEnd= { e => removeTransition(e) } >\n        {/* Display */}\n        <input type=\"text\" id=\"display\" value={ display } disabled />\n        {/* Input buttons */}\n        <input name=\"number\"   type=\"button\" id=\"zero\"     value='0' />\n        <input name=\"number\"   type=\"button\" id=\"one\"      value='1' />\n        <input name=\"number\"   type=\"button\" id=\"two\"      value='2' />\n        <input name=\"number\"   type=\"button\" id=\"three\"    value='3' />\n        <input name=\"number\"   type=\"button\" id=\"four\"     value='4' />\n        <input name=\"number\"   type=\"button\" id=\"five\"     value='5' />\n        <input name=\"number\"   type=\"button\" id=\"six\"      value='6' />\n        <input name=\"number\"   type=\"button\" id=\"seven\"    value='7' />\n        <input name=\"number\"   type=\"button\" id=\"eight\"    value='8' />\n        <input name=\"number\"   type=\"button\" id=\"nine\"     value='9' />\n        <input name=\"comma\"    type=\"button\" id=\"decimal\"  value='.' />\n        <input name=\"operator\" type=\"button\" id=\"add\"      value='+' />\n        <input name=\"operator\" type=\"button\" id=\"subtract\" value='-' />\n        <input name=\"operator\" type=\"button\" id=\"multiply\" value='*' />\n        <input name=\"operator\" type=\"button\" id=\"divide\"   value='/' />\n        <input name=\"delete\"   type=\"button\" id=\"delete\"   value=\"&larr;\" data-kbd=\"Backspace\" />\n        <input name=\"clear\"    type=\"button\" id=\"clear\"    value=\"C\"      data-kbd=\"Delete\" />\n        {/* Resolve display */}\n        <input type=\"submit\" id=\"equals\" value='=' />\n      </form>\n    </div>\n  );\n};\n\nexport default Calculator;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}